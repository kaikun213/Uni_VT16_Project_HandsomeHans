<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
     xmlns:p="http://primefaces.org/ui"
     xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title>SmugglerShop</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="stylesheet" href="resources/css/style.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
	<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/journal/bootstrap.min.css" rel="stylesheet" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="resources/js/footerFix.js"></script>
</h:head>

<f:metadata>
	<f:viewParam name="category" value="#{mainpage.category}"></f:viewParam>
	<f:viewParam name="search" value="#{mainpage.search}"></f:viewParam>
</f:metadata>

<body>
	
	<!-- Header -->
	<div id="header">
	<ui:include src="/header.xhtml" />
	</div>
	<!-- Header end -->
	
	<!-- Navigation bar  -->
	<ol class="breadcrumb">
		<li><a href="mainpage.xhtml">Home</a></li>
			<li class="active"><a href="mainpage.xhtml?category=#{mainpage.category}">#{mainpage.category}</a>#{mainpage.search}</li>
	</ol>
	<!--End navigation bar -->
	
	<!-- Content Part -->
	<h:form>
		<p:growl id="growl" showDetail="true" sticky="true" /> 
		
		<!-- Slider for Hot Items -->
		<h:form class="hot" rendered="#{empty mainpage.category and empty mainpage.search}">
			<div class="container-fluid" style="margin-top: -22px" id="freshItems">
				<div class="row">
					<div class="col-sm-8" style="margin-left: -14px">
						<div id="myCarousel" class="carousel slide" data-ride="carousel">
							<!-- Indicators -->
								<ol class="carousel-indicators">
									<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
									<li data-target="#myCarousel" data-slide-to="1"></li>
									<li data-target="#myCarousel" data-slide-to="2"></li>
								</ol>

								<!-- Wrapper for slides -->
								<div class="carousel-inner" role="listbox">
									<div class="item active">
										<img src="resources/img/sample1.png" alt=" " />
											<div class="carousel-caption">
												<h3>A nice logo!</h3>
													<p>And some very short message</p>
											</div>
									</div>
					
									<div class="item">
										<img src="resources/img/sample2.png" alt="placeholder" />
											<div class="carousel-caption">
												<h3>Name</h3>
													<p>But if i am too long i will simply go away</p>
											</div>
									</div>
									
									<div class="item">
										<img src="resources/img/sample3.jpg" alt="placeholder" />
											<div class="carousel-caption">
												<h3>Name</h3>
													<p>But if i am too long i will simply go away</p>
											</div>
									</div>
								</div>

								<!-- Left and right controls -->
								<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev"> 
									<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"/>
									<span class="sr-only">Previous</span>
								</a><a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
								 	<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"/>
									<span class="sr-only">Next</span>
								</a>
							</div>
						</div>
						
						<div class="col-sm-4" style="overflow-y: auto">
								<br/>
	  							<p class="text-center"><em>Our Categories!</em></p>
	  							<hr></hr>
	  					
	  							<div class="row">
									<ui:repeat var="category" value="#{mainpage.categories}" style="list-style:none">
	  									<div class="col-sm-4">
	  										<li style="list-style:none"><a href="#{request.contextPath}/mainpage.xhtml?category=#{category}">
	  											<p class="text-center" style="color:white">#{category}</p><br/></a></li></div>
									</ui:repeat>
								</div>
	   						</div>
						</div>
					</div>
			</h:form>
		<!-- End Slider -->

		<!-- Show Products Part -->
	<div class="bg-1"><br/>
		<h1><h:outputText styleClass="headingSearch" value="Results for '#{mainpage.search}'" rendered="#{not empty mainpage.search}"/></h1>
				<h1 style="text-decoration: underline"><h:outputText value="Our Products" rendered="#{empty mainpage.search}"/></h1>
					<div class="container">
  						<div class="row text-center">
      						<ol>
      							<ui:repeat var="product" value="#{mainpage.products}" style="list-style:none">	
      								<li style="list-style:none"><div class="col-sm-6">
       									<div class="thumbnail" style="overflow-y:auto" id="productBox">
      				 						<a href="productView.xhtml?id=#{product.id}">
      				 							<img class="col-xs-6" src="#{product.image}" alt=" " />
          											<p><strong>#{product.name}</strong></p>
          											<p><span>#{product.price} <i class="fa fa-gg-circle"></i></span></p>
          											<button class="btn"  type="button" href="productView.xhtml?id=#{product.id}">Click to View</button>
        									</a>
        								</div>
      								</div></li>
      							</ui:repeat>
    						</ol>
    					 </div>
  					</div>
				</div>
				
				<div class="bg-1">
				<h:form rendered="#{mainpage.notFound}" >
				<h1 style="color: red" class="text-center"><h:outputText value="Unfortunatelly, no results found."/></h1>		
				</h:form>
				</div>
		<!-- End Show Products -->
</h:form>
	<!-- End Content -->


	<!-- Footer -->
	<div id="footerPart">
		<ui:include src="/footer.xhtml" />
	</div>
	<!-- Footer finish -->

</body>
</html>