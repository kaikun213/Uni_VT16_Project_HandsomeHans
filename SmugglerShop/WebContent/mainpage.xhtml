<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
     xmlns:p="http://primefaces.org/ui"
     xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<title>SmugglerShop</title>
  	<meta charset="utf-8"/>
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  	<link rel="stylesheet" href="resources/css/newStyle.css" />
  
  	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
  	<link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/>
  	<link href="http://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css"/>
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"/>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"/>
</h:head>

<f:metadata>
	<f:viewParam name="category" value="#{mainpage.category}"></f:viewParam>
	<f:viewParam name="search" value="#{mainpage.search}"></f:viewParam>
</f:metadata>

<body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="50">

<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      
      <!-- Logo -->
      <a class="navbar-brand" href="#myPage">SMUGGLERS</a>
      <!-- End Logo -->  
      
      		<!-- Search Bar -->
					<h:form class="navbar-form navbar-right" role="search" action="mainpage.xhtml?search=#{mainpage.search}">
        				<div class="form-group input-group">
          					<h:inputText type="text" class="form-control" a:placeholder="Search By Product" value="#{mainpage.search}"/>
          						<span class="input-group-btn">
            						<h:commandButton class="btn btn-success" value="Go!" action="#{mainpage.toMainpage}"/>
          						</span>      
          				</div>
      				</h:form>
      				<!-- End Search Bar -->
      		</div>
    
    
    <div class="collapse navbar-collapse" id="myNavbar">
      <h:form id="theHead">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#myPage">HOME</a></li>
        <li><a href="#category">CATEGORIES</a></li>
        <li><a href="#product">PRODUCTS</a></li>
        <li><a href="basket.xhtml"><span class="badge">#{basket.size()}</span><span class="glyphicon glyphicon-shopping-cart"/> Cart</a></li>
       <li class="dropdown">
        		<h:form rendered="#{not authenticationBean.loggedIn}">
        		<a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span> 
        		<h:outputText value="Login"/></a>
					<ul id="login-dp" class="dropdown-menu">
						<li><div class="row">
								<div class="col-xs-12">
										<h:form class="form" role="form" method="post" action="login" accept-charset="UTF-8" id="login-nav">
											<div class="form-group">
												<h:inputText value="#{authenticationBean.activeUser.name}" type="email" class="form-control" id="exampleInputEmail2"
														a:placeholder="Username" required=" " />
											</div>
											<div class="form-group">
												<h:inputSecret value="#{authenticationBean.activeUser.password}"
														type="password" class="form-control"
														id="exampleInputPassword2" a:placeholder="Password"
														required=" " />
												</div>
												<div class="form-group">
													<h:commandButton action="#{authenticationBean.login}" value="Sign In"
														class="btn btn-primary btn-block" />
												</div>
												<a href="#login">Need an account?</a>
										</h:form>
										</div>
									</div>
								</li>
							</ul>
						</h:form>
				
					<h:form  rendered="#{authenticationBean.loggedIn}">
					
					<h:form rendered="#{authenticationBean.activeUser.admin}">
					<a href="#{request.contextPath}/restricted/adminProducts.xhtml">
					<span class="glyphicon glyphicon-user"></span>
					<h:outputText value="#{authenticationBean.activeUser.name}" /></a>
					</h:form>
					
					<h:form rendered="#{! authenticationBean.activeUser.admin}">
					<a href="userAccount.xhtml">
					<span class="glyphicon glyphicon-user"></span>
					<h:outputText value="#{authenticationBean.activeUser.name}" /></a>
					</h:form>
					
					</h:form>
					
					
					</li>
        <li><a href="#googleMap">CONTACT</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">MORE
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Merchandise</a></li>
            <li><a href="#">Extras</a></li>
            <li><a href="#">Media</a></li> 
          </ul>
        </li>
      </ul>
      </h:form>
    </div>
  </div>
</nav>
	<h:form rendered="#{empty mainpage.category and empty mainpage.search}">
	<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <div class="item active">
      <img src="resources/img/HeaderLogo.png" alt=" " width="1200" height="700"/>
        <div class="carousel-caption">
          <h3>Our Logo</h3>
          <p>The atmosphere in New York is lorem ipsum.</p>
        </div>      
      </div>

      <div class="item">
        <img src="resources/img/AltLogo.png" alt="placeholder" width="1200" height="700"/>
        <div class="carousel-caption">
          <h3>Chicago</h3>
          <p>Thank you, Chicago - A night we won't forget.</p>
        </div>      
      </div>
    
      <div class="item">
        <img src="resources/img/logo.png" alt="placeholder" width="1200" height="700"/>
        <div class="carousel-caption">
          <h3>LA</h3>
          <p>Even though the traffic was a mess, we had the best time playing at Venice Beach!</p>
        </div>      
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
</div>
</h:form>


<!-- Container (The Category Section) -->
<div id="category" class="container text-center">
  <h3>ALL CATEGORIES</h3>
  	<p><em>We love our products!</em></p>
  		<br/>
  	<div class="row">
  		<ui:repeat var="category" value="#{mainpage.categories}" style="list-style:none">
  			<div class="col-sm-4">
				<li style="list-style:none"><a href="#{request.contextPath}/mainpage.xhtml?category=#{category}"><p class="text-center"><strong>#{category}</strong></p><br/></a></li>
			</div>
		</ui:repeat>
   </div>
</div>

<!-- Container (PRODUCT Section) -->
<div id="product" class="bg-1">
  <div class="container">
    <h3 class="text-center">OUR PRODUCTS</h3>
    <p class="text-center">Your will definately find your choice.<br/> Remember to keep the products away from childrens!</p>
    
  <div class="row text-center">
      <ol>
      	<ui:repeat var="product" value="#{mainpage.products}" style="list-style:none">	
      		<li style="list-style:none"><div class="col-sm-6">
       			<div class="thumbnail" style="height: 240px;">
      				 <a href="productView.xhtml?id=#{product.id}">
      				 	<img class="col-sm-5" src="#{product.image}" alt="ProductImage" />
          					<p><strong>#{product.name}</strong></p>
          					<p>#{product.price}</p>
          				<button class="btn" data-toggle="modal" data-target="#myModal">Buy Tickets</button>
        			</a>
        		</div>
      		</div></li>
      </ui:repeat>
    </ol>
    
    </div>
  </div>
</div>
      
     <!-- Container (Contact Section) -->
<div id="login" class="container">
  <h3 class="text-center">Need an account?</h3>
  <p class="text-center"><em>We love our fans!</em></p>

 
    <div class="col-md-12">
      <div class="row">
        <div class="col-sm-6 form-group">
          <input class="form-control" id="name" name="name" placeholder="Name" type="text" />
        </div>
        <div class="col-sm-6 form-group">
          <input class="form-control" id="email" name="email" placeholder="Email" type="email"/>
        </div>
        <div class="col-sm-6 form-group">
          <input class="form-control" id="phone" name="email" placeholder="Email" type="email"/>
        </div>
          <div class="col-sm-6 form-group">
          <input class="form-control" id="address" name="email" placeholder="Email" type="email"/>
        </div>
          <div class="col-sm-6 form-group">
          <input class="form-control" id="city" name="email" placeholder="Email" type="email"/>
        </div>
       <div class="col-sm-6 form-group">
          <input class="form-control" id="postcode" name="email" placeholder="Email" type="email"/>
        </div>
      </div>
 
      <br/>
      <div class="row">
        <div class="col-md-12 form-group">
          <button class="btn pull-right" type="submit">Register me</button>
        </div>
      </div>
    </div>
  </div>

<div id="googleMap"></div>

<!-- Add Google Maps -->
<script src="http://maps.googleapis.com/maps/api/js"></script>
<script>
var myCenter = new google.maps.LatLng(41.878114, -87.629798);

function initialize() {
var mapProp = {
center:myCenter,
zoom:12,
scrollwheel:false,
draggable:false,
mapTypeId:google.maps.MapTypeId.ROADMAP
};

var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

var marker = new google.maps.Marker({
position:myCenter,
});

marker.setMap(map);
}

google.maps.event.addDomListener(window, 'load', initialize);
</script>

<!-- Footer -->
<footer>
<ui:include src="/footer.xhtml" /> 
</footer>

<script>
$(document).ready(function(){
  // Initialize Tooltip
  $('[data-toggle="tooltip"]').tooltip(); 
  
  // Add smooth scrolling to all links in navbar + footer link
  $(".navbar a, footer a[href='#myPage']").on('click', function(event) {

    // Make sure this.hash has a value before overriding default behavior
    if (this.hash !== "") {

      // Prevent default anchor click behavior
      event.preventDefault();

      // Store hash
      var hash = this.hash;

      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 900, function(){
   
        // Add hash (#) to URL when done scrolling (default click behavior)
        window.location.hash = hash;
      });
    } // End if
  });
})
</script>


</body>
        </html>
