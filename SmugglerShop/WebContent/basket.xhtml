<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<title>Basket page</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="resources/css/style.css" />
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
	<link
		href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/journal/bootstrap.min.css"
		rel="stylesheet" />
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script> function reload() {
		loaction.reload();
		}</script>
</h:head>
<body>
	<!-- Header -->
	<div id="header">
	<ui:include src="/header.xhtml" />
	</div>
	<!-- Header finish -->	
	
	<!-- Content -->
<h:form id="content">
		<h2>Your Smuggler shopping cart!</h2>
		<hr size="5" width="100%"></hr>


		<!-- Basket Items -->
		<ul id="basketItems">
			<ui:repeat var="basketItem" value="#{basket.basket}">
				<li id="productImage" class="col-xs-12"><a
					href="productView.xhtml?id=#{basketItem.id}"> <img
						class="col-xs-2" src="#{basketItem.image}" alt="ProductImage" />
				</a>
					<h3>#{basketItem.name}</h3>
					<div class="price">
						<span>$#{basketItem.price} <i></i></span>
					</div>
					<div class="btnremove">
						<h:commandButton action="#{basket.remove()}" value="Remove"
							class="btn btn-primary" href="#">
							<f:param name="pID" value="#{basketItem.id}"></f:param>
						</h:commandButton>
					</div>
					<div class="quantity">
						<p>
							Quantity:
							<h:inputText min="1" type="number" id="quantity" name="quantity"
								value="#{basketItem.quantity}">
								<f:ajax event="change" render="checkoutinformation"></f:ajax>
							</h:inputText>
						</p>
					</div></li>
				<hr size="5" width="85%"></hr>
			</ui:repeat>
			<h:outputText id="totalPrice" value="Total: $#{basket.totalPrice}" />
		</ul>

		<!-- End Basket Items -->

		<h:form id="checkoutinformation">

			<a id="btncheckout" class="btn btn-primary" href="contactForm.xhtml">Proceed
				to checkout</a>
			<button id="reloadpage" class="btn btn-primary" onclick="reload()">Update</button>
			<a id="btnshopagain" class="btn btn-primary" href="mainpage.xhtml">Continue
				shopping</a>
		</h:form>
	</h:form>
	<!-- End Content -->

	<!-- Footer -->
	<div id="footerPart">
		<ui:include src="/footer.xhtml" />
	</div>
	<!-- Footer finish -->

</body>
</html>
