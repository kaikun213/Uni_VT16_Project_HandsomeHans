<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<title>Basket page</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="resources/css/style.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
	<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/journal/bootstrap.min.css" rel="stylesheet" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</h:head>
<body>
	<!-- Header -->
	<ui:include src="/header.xhtml" />
		
		<!-- Content -->
		<h:form id="container">
			<h2>Your Smuggler shopping cart!</h2>
			<hr size="5" width="100%"></hr>
			
						
			<!-- Basket Items -->
			<h:form>
			<ul id="basketItems">
				<ui:repeat var="basketItem" value="#{basket.basket}">
					<li id="productImage" class="col-xs-12"><a
						href="productView.xhtml?id=#{basketItem.id}"> <img
							class="col-xs-2" src="#{basketItem.image}" alt="ProductImage" />
					</a>
						<h3>#{basketItem.name}</h3> <span>$#{basketItem.price} <i></i></span>
						<h:commandButton action="#{basket.remove}" value="Remove"
							class="btn btn-primary" href="#">
							<f:param name="pID" value="#{basketItem.id}"></f:param>
						</h:commandButton> <label for="quantity">Quantity: </label> <h:inputText min="1"
							type="number" id="quantity" name="quantity"
							value="#{basketItem.quantity}">
							<f:ajax event="change" render="checkoutinformation"></f:ajax>
						</h:inputText></li>
					<hr size="5" width="85%"></hr>
				</ui:repeat>
			</ul>
			</h:form>
			<!-- End Basket Items -->
			
			<h:form id="checkoutinformation">
				<h:outputText id="totalPrice" value="Total: #{basket.totalPrice}" />
				<a id="btncheckout" class="btn btn-primary" href="contactForm.xhtml">Proceed
					to checkout</a> <a id="btnshopagain" class="btn btn-primary"
					href="mainpage.xhtml">Continue shopping</a>
			</h:form>
		</h:form>
	<!-- End Content -->
	
	<!-- Footer -->
	<ui:include src="/footer.xhtml" />
</body>
</html>
