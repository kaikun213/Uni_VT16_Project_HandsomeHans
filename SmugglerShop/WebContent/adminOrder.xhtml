<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
<title>Admin page</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	<!-- css files -->
	<link rel="stylesheet" href="resources/css/style.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
	<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/journal/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" /> 
	
	<!-- script files -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="resources/js/footerFix.js"></script>

<script>
	Highcharts.visualize = function(table, options) {
   // the categories
   options.xAxis.categories = [];
   $('tbody th', table).each( function(i) {
      options.xAxis.categories.push(this.innerHTML);
   });
   
   // the data series
   options.series = [];
   $('tr', table).each( function(i) {
      var tr = this;
      $('th, td', tr).each( function(j) {
         if (j > 0) { // skip first column
            if (i == 0) { // get the name and init the series
               options.series[j - 1] = { 
                  name: this.innerHTML,
                  data: []
               };
            } else { // add values
               options.series[j - 1].data.push(parseFloat($('input', this)[0].value));
            }
         }
      });
   });
   
  var chart = new Highcharts.Chart(options, function(chart){
  
      $('table input').change(function(){
          
          var td = $(this).parent(),
              i = td.index() - 1,
              x = td.parent().index();

          chart.series[i].data[x].update( parseFloat(this.value) );
      });
      
  });
}
   
// On document ready, call visualize on the datatable.
$(document).ready(function() {         
   var table = document.getElementById('datatable'),
   options = {
         chart: {
            renderTo: 'container',
            defaultSeriesType: 'column'
         },
         title: {
            text: 'Data extracted from a HTML table in the page'
         },
         xAxis: {
         },
         yAxis: {
            title: {
               text: 'Units'
            }
         },
       plotOptions:{
           series:{
               shadow:false,
               borderWidth:0,
           }
       },
         tooltip: {
            formatter: function() {
               return '<b>'+ this.series.name +'</b><br/>'+
                  this.y +' '+ this.x.toLowerCase();
            }
         }
      };
   
                     
   Highcharts.visualize(table, options);
});
</script>

</h:head>
<body>

	<!-- Header -->
	<div id="header">
		<ui:include src="/header.xhtml" />
	</div>
	<!-- Header finish -->	
	
		<!-- Sidebar -->	
	<div id="sidebar">
		<ul id="sidebarlist">
			<li class="active" id="sidebarstyle"><a id="sidebarlink" href="admin.xhtml">Items</a></li>
			<li class="active" id="sidebarstyle"><a id="sidebarlink" href="admin.xhtml">Orders</a></li>
			<li class="active" id="sidebarstyle"><a id="sidebarlink" href="admin.xhtml">Admins</a></li>
			<li class="active" id="sidebarstyle"><a id="sidebarlink" href="mainpage.xhtml">Log Out</a></li>
		</ul>
	</div>
	<!-- Sidebar finish -->	
	
	<!-- Content -->
	<h:form id="adminContent">
		
		<h:commandButton action="#{adminPages.test()}" value="Test" />
	
	<!-- SearchBar -->
			<h:form>
				<div class="container-fluid">
					<div class="col-xs-4" id="adminsearchBar">
						<div class="form-group">
							<h:inputText id="inputSearch" a:placeholder="Search Order"
								type="text" class="form-control">
							</h:inputText>
						</div>
					</div>
					<h:commandButton class="btn btn-primary" href="admin.xhtml" value="Go!" />
				</div>
			</h:form>
	<!-- End SearchBar -->
	
<div id="container" style="height: 400px; width: 500px"></div>
<table id="datatable">
    <thead>
        <tr>
            <th></th>
            <th>Jane</th>
            <th>John</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Apples</th>
            <td><input type="text" value="3" /></td>
            <td><input type="text" value="4" /></td>
        </tr>
        <tr>
            <th>Pears</th>
            <td><input type="text" value="2" /></td>
            <td><input type="text" value="0" /></td>
        </tr>
        <tr>
            <th>Plums</th>
            <td><input type="text" value="5" /></td>
            <td><input type="text" value="11" /></td>
        </tr>
        <tr>
            <th>Bananas</th>
            <td><h:inputText type="text" value="#{order.orderID}" /></td>
            <td><h:inputText type="text" value="#{order.orderID}" /></td>
        </tr>
        <tr>
            <th>Oranges</th>
            <td><input type="text" value="2" /></td>
            <td><input type="text" value="4" /></td>
        </tr>
    </tbody>
</table>
</h:form>
	<!-- Content finish -->

	
	<!-- Footer -->
	<div id="footerPart">
		<ui:include src="/footer.xhtml" />
	</div>
	<!-- Footer finish -->

</body>
</html>
